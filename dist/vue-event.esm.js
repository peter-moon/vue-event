/*!
 * vue-event v1.0.0
 * https://github.com/peter-moon/vue-event
 * @license MIT
 */function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread2(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(b,!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(b).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_nonIterableSpread()}function _arrayWithoutHoles(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function _iterableToArray(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var __STORE__={},registEventConsumer=function(a){var b=a.type,c=a.consume,d=a.once;if(!b)throw new Error("NEEDS TYPE");if(!c)throw new Error("NEEDS CONSUME");return __STORE__[b]=Object.assign({},{type:b,consume:c,once:void 0!==d&&d}),{result:!0}},unregistEventByType=function(a){var b=a.type,c=__STORE__[b];return c?(delete __STORE__[b],{result:!0}):{result:!1}},findEventByType=function(a){var b=a.type,c=__STORE__[b];return c?_objectSpread2({},c):null},clearEventStoreAll=function(){for(var a,b=0,c=Object.keys(__STORE__);b<c.length;b++)a=c[b],delete __STORE__[a]},getMirroredEventStore=function(){return _objectSpread2({},__STORE__)},showEventStore=function(){var a=getMirroredEventStore(),b=Object.keys(a),c=0<b.length,d=_toConsumableArray(b);return{hasEvent:c,eventTypes:d,eventConsumers:a}},VueEvent={};VueEvent.install=function(a){var b=new a;b.on=function(a){var b=a.type,c=a.consume;return b&&c?void(!findEventByType({type:b})&&registEventConsumer(a),this.$on.bind(this)(b,c)):void console.warn("NEEDS TYPE, CONSUME")},b.once=function(a){var b=a.type,c=a.consume;return b&&c?void(!findEventByType({type:b})&&registEventConsumer(_objectSpread2({},a,{once:!0})),this.$once.bind(this)(b,c)):void console.warn("NEEDS TYPE, CONSUME")},b.emit=function(a){var b=a.type,c=a.payload,d=a.meta,e=a.error;this.$emit.bind(this)(b,{error:e,payload:c,meta:d});// unregist when event registered as once 
var f=findEventByType({type:b});f&&!0===f.once&&unregistEventByType({type:b})},b.off=function(a){var b=a.type;this.$off.bind(this)(b),findEventByType({type:b})&&unregistEventByType({type:b})},b.show=function(){return showEventStore()},b.clear=function(){return clearEventStoreAll()},b.find=function(a){var b=a.type;return findEventByType({type:b})},Object.defineProperty(a,"$event",{get:function(){return b}}),Object.defineProperty(a.prototype,"$event",{get:function(){return b}})};export default VueEvent;
